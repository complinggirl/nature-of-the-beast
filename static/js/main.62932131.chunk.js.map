{"version":3,"sources":["utils/uuid.js","store.ts","utilities/BaseUtility.ts","utilities/Echo.ts","utilities/Help.ts","locations/Location.ts","utilities/Ls.ts","utilities/WhoAmI.ts","utilities/Pwd.ts","utilities/Cd.ts","utilities/UtilityManifest.ts","components/Terminal.tsx","locations/LocationManifest.ts","components/App.tsx","index.tsx"],"names":["b","a","Math","random","toString","replace","ActionTypes","BaseUtility","command","_params","Echo","args","_ref","writeToConsole","join","Help","concat","Object","keys","UtilityManifest","Location","description","slug","classCallCheck","this","neighbors","initialLocation","initialState","location","store","createStore","state","arguments","length","undefined","action","type","SET_LOCATION","objectSpread","value","Ls","getState","map","sort","WhoAmI","responses","forEach","response","index","window","setTimeout","Pwd","Cd","newLocation","find","dispatch","hasRun","INPUT_PROMPT","Terminal","terminalHistory","content","id","uuid","commandHistory","currentPlaceInHistory","inputEl","handleKeyDown","e","key","_this","goBackInHistory","moveCursorToEnd","goForwardInHistory","preventDefault","tabComplete","inputValue","_this$inputValue$spli","split","_this$inputValue$spli2","slicedToArray","currentVal","options","filter","indexOf","reduce","memo","option","setState","selectionStart","handleSubmit","addToCommandHistory","_value$split","_value$split2","toArray","utilityName","slice","utility","run","toConsumableArray","_this2","react_default","createElement","className","onClick","focus","onKeyDown","historyItem","onSubmit","ref","React","Component","LocationManifest","INITIAL_LOCATION_SLUG","App","props","possibleConstructorReturn","getPrototypeOf","call","locations","neighborPair","push","Terminal_Terminal","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.62932131.chunk.js","sourcesContent":["// simplest UUID implementation\n// https://gist.github.com/jed/982883\n\nexport default function b(a) {\n\treturn a\n\t\t? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n\t\t: ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, b);\n}\n","import { createStore } from 'redux';\nimport Location, { initialLocation } from './locations/Location';\n\ninterface State {\n\tlocation: Location;\n}\n\nexport enum ActionTypes {\n\tSET_LOCATION = 'SET_LOCATION'\n}\n\ninterface SetLocation {\n\ttype: ActionTypes.SET_LOCATION;\n\tvalue: Location;\n}\n\nconst initialState: State = {\n\tlocation: initialLocation\n};\n\n// to add new action types, add to the union type like this:\n// type Action = SetLocation | OtherAction | TestAction;\ntype CombinedAction = SetLocation;\n\nfunction reducer(state: State = initialState, action: CombinedAction): State {\n\tswitch (action.type) {\n\t\tcase ActionTypes.SET_LOCATION:\n\t\t\treturn { ...state, location: action.value };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nconst store = createStore(reducer);\n\nexport default store;\n","export interface RunParams {\n\targs: string[];\n\twriteToConsole: (arg: string) => void;\n}\n\nexport default class BaseUtility {\n\trun(_params: RunParams): void {\n\t\tthrow 'not implemented';\n\t}\n\n\tcommand: string = '';\n}\n","import BaseUtility, { RunParams } from './BaseUtility';\n\nexport default class Echo extends BaseUtility {\n\trun({ args, writeToConsole }: RunParams): void {\n\t\twriteToConsole(args.join(' '));\n\t}\n\n\tcommand = 'echo';\n}\n","import BaseUtility, { RunParams } from './BaseUtility';\nimport UtilityManifest from './UtilityManifest';\n\nexport default class Help extends BaseUtility {\n\trun({ writeToConsole }: RunParams): void {\n\t\twriteToConsole(\n\t\t\t`the following utilities are available: ${Object.keys(\n\t\t\t\tUtilityManifest\n\t\t\t).join(', ')}`\n\t\t);\n\t}\n\n\tcommand = 'help';\n}\n","interface args {\n\tslug: string;\n\tdescription: string;\n}\n\nexport default class Location {\n\tconstructor({ description, slug }: args) {\n\t\tthis.description = description;\n\t\tthis.slug = slug;\n\t}\n\n\tdescription: string;\n\tneighbors: Location[] = [];\n\tslug: string;\n}\n\nexport const initialLocation = new Location({\n\tdescription: 'locations are still loading',\n\tslug: 'loading'\n});\n","import BaseUtility, { RunParams } from './BaseUtility';\nimport store from '../store';\nimport Location from '../locations/Location';\n\nexport default class Ls extends BaseUtility {\n\trun({ writeToConsole }: RunParams): void {\n\t\twriteToConsole(\n\t\t\tstore\n\t\t\t\t.getState()\n\t\t\t\t.location.neighbors.map((location: Location) => location.slug)\n\t\t\t\t.sort()\n\t\t\t\t.join('    ')\n\t\t);\n\t}\n\n\tcommand = 'ls';\n}\n","import BaseUtility, { RunParams } from './BaseUtility';\n\nexport default class WhoAmI extends BaseUtility {\n\tprivate responses: string[] = [\n\t\t\"I don't remember\",\n\t\t'But I am glad you asked. I am glad you are here.',\n\t\t\"I don't know who you are\",\n\t\t'You are an echo of an echo',\n\t\t'You are a grease smudge on a screen',\n\t\t'You were a mistake',\n\t\t'You are a dog lover',\n\t\t'Or you were a dog lover'\n\t];\n\n\trun({ writeToConsole }: RunParams): void {\n\t\tthis.responses.forEach((response, index) => {\n\t\t\twindow.setTimeout(() => {\n\t\t\t\twriteToConsole(response);\n\t\t\t}, 1000 + 2500 * index);\n\t\t});\n\t}\n\n\tcommand = 'whoami';\n}\n","import BaseUtility, { RunParams } from './BaseUtility';\nimport store from '../store';\n\nexport default class Pwd extends BaseUtility {\n\trun({ writeToConsole }: RunParams): void {\n\t\twriteToConsole(store.getState().location.description);\n\t}\n\n\tcommand = 'pwd';\n}\n","import BaseUtility, { RunParams } from './BaseUtility';\nimport store, { ActionTypes } from '../store';\nimport Location from '../locations/Location';\n\nexport default class Cd extends BaseUtility {\n\trun({ args, writeToConsole }: RunParams): void {\n\t\tconst newLocation = store\n\t\t\t.getState()\n\t\t\t.location.neighbors.find((location: Location) => {\n\t\t\t\treturn location.slug === args[0];\n\t\t\t});\n\n\t\tif (newLocation) {\n\t\t\tstore.dispatch({\n\t\t\t\ttype: ActionTypes.SET_LOCATION,\n\t\t\t\tvalue: newLocation\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\twriteToConsole(`invalid location ${args[0]}`);\n\t}\n\n\tcommand = 'cd';\n}\n","import Echo from './Echo';\nimport Help from './Help';\nimport BaseUtility from './BaseUtility';\nimport Ls from './Ls';\nimport WhoAmI from './WhoAmI';\nimport Pwd from './Pwd';\nimport Cd from './Cd';\n\nconst UtilityManifest: { [s: string]: BaseUtility } = {};\n\nlet hasRun: boolean = false;\n\nexport function initializeUtilities() {\n\tif (hasRun) {\n\t\treturn;\n\t}\n\n\thasRun = true;\n\n\tconst utilities = [\n\t\tnew Echo(),\n\t\tnew Help(),\n\t\tnew Ls(),\n\t\tnew WhoAmI(),\n\t\tnew Cd(),\n\t\tnew Pwd()\n\t];\n\n\tutilities.forEach(utility => {\n\t\tUtilityManifest[utility.command] = utility;\n\t});\n}\n\nexport default UtilityManifest;\n","import React from 'react';\nimport uuid from '../utils/uuid';\nimport UtilityManifest from '../utilities/UtilityManifest';\nimport store from '../store';\nimport Location from '../locations/Location';\n\ninterface ICommandItem {\n\tcontent: string;\n\tid: string;\n}\n\ninterface IHistoryItem {\n\tcontent: string;\n\tid: string;\n}\n\ninterface IState {\n\tcommandHistory: ICommandItem[];\n\tterminalHistory: IHistoryItem[];\n\tcurrentPlaceInHistory: number;\n}\n\nconst INPUT_PROMPT = '~/ > ';\n\nexport default class Terminal extends React.Component<{}, IState> {\n\tstate: IState = {\n\t\tterminalHistory: [\n\t\t\t{ content: 'welcome to the forest', id: uuid() },\n\t\t\t{ content: 'feel free to look around', id: uuid() }\n\t\t],\n\t\tcommandHistory: [],\n\t\tcurrentPlaceInHistory: -1\n\t};\n\n\tprivate inputEl: HTMLInputElement | null = null;\n\n\tprivate handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\tthis.goBackInHistory();\n\t\t\t\tthis.moveCursorToEnd();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowDown':\n\t\t\t\tthis.goForwardInHistory();\n\t\t\t\tthis.moveCursorToEnd();\n\t\t\t\tbreak;\n\t\t\tcase 'Tab':\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.tabComplete();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t};\n\n\tprivate tabComplete = () => {\n\t\tif (this.inputValue === '') {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: Regex could probably do a better job of this\n\t\tlet [command, currentVal] = this.inputValue.split(' ');\n\n\t\tif (typeof currentVal === 'undefined') {\n\t\t\tcurrentVal = '';\n\t\t}\n\n\t\tconst options = store\n\t\t\t.getState()\n\t\t\t.location.neighbors.filter(\n\t\t\t\t(location: Location) => location.slug.indexOf(currentVal) === 0\n\t\t\t)\n\t\t\t.map((location: Location) => location.slug);\n\n\t\tif (options.length === 1) {\n\t\t\tthis.inputValue = `${command} ${options[0]}`;\n\t\t} else if (options.length > 1) {\n\t\t\tthis.writeToConsole(\n\t\t\t\toptions.reduce(\n\t\t\t\t\t(memo: string, option: string) => `${memo}    ${option}`\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tprivate goBackInHistory = () => {\n\t\tthis.setState(\n\t\t\tstate => {\n\t\t\t\tif (\n\t\t\t\t\tstate.currentPlaceInHistory ===\n\t\t\t\t\tstate.commandHistory.length + 1\n\t\t\t\t) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tcurrentPlaceInHistory: state.currentPlaceInHistory + 1\n\t\t\t\t};\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tconst command = this.state.commandHistory[\n\t\t\t\t\tthis.state.currentPlaceInHistory\n\t\t\t\t];\n\n\t\t\t\tif (command) {\n\t\t\t\t\tthis.inputValue = command.content;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate moveCursorToEnd = () => {\n\t\twindow.setTimeout(() => {\n\t\t\tif (this.inputEl) {\n\t\t\t\tthis.inputEl.selectionStart = 1000;\n\t\t\t}\n\t\t}, 0);\n\t};\n\n\tprivate goForwardInHistory = () => {\n\t\tthis.setState(\n\t\t\tstate => {\n\t\t\t\tif (state.currentPlaceInHistory === -1) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tcurrentPlaceInHistory: state.currentPlaceInHistory - 1\n\t\t\t\t};\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (this.state.currentPlaceInHistory === -1) {\n\t\t\t\t\tthis.inputValue = '';\n\t\t\t\t}\n\n\t\t\t\tconst command = this.state.commandHistory[\n\t\t\t\t\tthis.state.currentPlaceInHistory\n\t\t\t\t];\n\n\t\t\t\tif (command) {\n\t\t\t\t\tthis.inputValue = command.content;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate get inputValue(): string {\n\t\treturn this.inputEl ? this.inputEl.value : '';\n\t}\n\n\tprivate set inputValue(value: string) {\n\t\tif (this.inputEl) {\n\t\t\tthis.inputEl.value = value;\n\t\t}\n\t}\n\n\tprivate handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\n\t\tconst value = this.inputValue;\n\t\tthis.inputValue = '';\n\n\t\tthis.addToCommandHistory(value);\n\n\t\tconst [utilityName, ...args] = value.split(' ');\n\n\t\tconst utility = UtilityManifest[utilityName];\n\n\t\tthis.writeToConsole(`${INPUT_PROMPT}${value}`);\n\n\t\tutility\n\t\t\t? utility.run({ args, writeToConsole: this.writeToConsole })\n\t\t\t: this.writeToConsole(`I don't know how to ${utilityName}`);\n\t};\n\n\tprivate addToCommandHistory = (value: string) => {\n\t\tthis.setState(state => ({\n\t\t\tcommandHistory: [\n\t\t\t\t{\n\t\t\t\t\tcontent: value,\n\t\t\t\t\tid: uuid()\n\t\t\t\t},\n\t\t\t\t...state.commandHistory\n\t\t\t],\n\t\t\tcurrentPlaceInHistory: -1\n\t\t}));\n\t};\n\n\tprivate writeToConsole = (value: string) => {\n\t\tthis.setState(state => ({\n\t\t\tterminalHistory: [\n\t\t\t\t...state.terminalHistory,\n\t\t\t\t{\n\t\t\t\t\tcontent: value,\n\t\t\t\t\tid: uuid()\n\t\t\t\t}\n\t\t\t]\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"terminal\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.inputEl && this.inputEl.focus();\n\t\t\t\t}}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t<pre className=\"terminal-buffer\">\n\t\t\t\t\t{this.state.terminalHistory.reduce(\n\t\t\t\t\t\t(memo, historyItem) =>\n\t\t\t\t\t\t\t`${memo}\\n${historyItem.content}`,\n\t\t\t\t\t\t''\n\t\t\t\t\t)}\n\t\t\t\t</pre>\n\n\t\t\t\t<form className=\"input-form\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<span className=\"input-prompt\">{INPUT_PROMPT}</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tref={e => {\n\t\t\t\t\t\t\tthis.inputEl = e;\n\t\t\t\t\t\t\tthis.inputEl && this.inputEl.focus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import Location from './Location';\n\nimport locations from '../data/locations.json';\nimport neighbors from '../data/neighbors.json';\n\nconst LocationManifest: { [s: string]: Location } = {};\n\nlet hasRun: boolean = false;\n\nexport function initializeLocations() {\n\tif (hasRun) {\n\t\treturn;\n\t}\n\n\thasRun = true;\n\n\tlocations.forEach(location => {\n\t\tLocationManifest[location.slug] = new Location(location);\n\t});\n\n\tneighbors.forEach(neighborPair => {\n\t\tLocationManifest[neighborPair[0]].neighbors.push(\n\t\t\tLocationManifest[neighborPair[1]]\n\t\t);\n\n\t\tLocationManifest[neighborPair[1]].neighbors.push(\n\t\t\tLocationManifest[neighborPair[0]]\n\t\t);\n\t});\n}\n\nexport default LocationManifest;\n","import React from 'react';\nimport Terminal from './Terminal';\nimport LocationManifest, {\n\tinitializeLocations\n} from '../locations/LocationManifest';\nimport { initializeUtilities } from '../utilities/UtilityManifest';\nimport store, { ActionTypes } from '../store';\n\ninterface Props {}\n\nconst INITIAL_LOCATION_SLUG = 'a_quiet_forest';\n\nexport default class App extends React.Component<Props, {}> {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tinitializeLocations();\n\t\tinitializeUtilities();\n\n\t\tstore.dispatch({\n\t\t\ttype: ActionTypes.SET_LOCATION,\n\t\t\tvalue: LocationManifest[INITIAL_LOCATION_SLUG]\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"main\">\n\t\t\t\t<Terminal />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}