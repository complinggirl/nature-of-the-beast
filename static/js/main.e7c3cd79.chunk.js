(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,n,e){t.exports=e(18)},16:function(t,n,e){},18:function(t,n,e){"use strict";e.r(n);var o=e(5),a=e.n(o),i=e(9),r=e.n(i),c=(e(16),e(7)),u=e(10),s=e(0),l=e(4),b=e(2),f=e(1),h=e(3);function m(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,m)}var y=function(){function t(){Object(s.a)(this,t)}return Object(l.a)(t,null,[{key:"run",value:function(t,n){throw"not implemented"}}]),t}(),p=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){n(t.join(" "))}}]),n}(y),d=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){n("the following utilities are available: ".concat(Object.keys(E).join(", ")))}}]),n}(y),j=function t(){Object(s.a)(this,t)},O=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),n}(j);O.description="Someone somebody once loved, probably, is sitting at an old kitchen table. They are an adult, but beyond that you struggle to make out anything about them. The stench is magnificent.",O.neighbors=[g],O.slug="somebody_once_loved";var g=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),n}(j);g.description="it is a cold cabin",g.neighbors=[w,O],g.slug="a_cold_cabin";var w=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),n}(j);w.description="It is early morning. Cold rain is melting the remaining pieces of ice and snow clinging to the evergreens and you can hear them falling around you. Some of them are large enough to be dangerous, but mostly it is just uncomfortable. Your cotton blouse is not keeping you warm.",w.neighbors=[g],w.slug="a_quiet_forest";var v={location:w},H=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){n(v.location.neighbors.map(function(t){return t.slug}).sort().join("    "))}}]),n}(y),k=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){this.responses.forEach(function(t,e){window.setTimeout(function(){n(t)},1e3+2500*e)})}}]),n}(y);k.responses=["I don't remember","I am glad you asked. I am glad you are here.","I don't know who you are","You are an echo of an echo","You are a grease smudge on a screen","You were a mistake","You are a dog lover","Or you were a dog lover"];var I=function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){n(v.location.description)}}]),n}(y),E={echo:p,help:d,ls:H,whoami:k,cd:function(t){function n(){return Object(s.a)(this,n),Object(b.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,null,[{key:"run",value:function(t,n){var e=v.location.neighbors.find(function(n){return n.slug===t[0]});e?v.location=e:n("invalid location ".concat(t[0]))}}]),n}(y),pwd:I},P="~/ > ",T=function(t){function n(){var t,e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=Object(b.a)(this,(t=Object(f.a)(n)).call.apply(t,[this].concat(a)))).state={terminalHistory:[{content:"welcome to the forest",id:m()},{content:"feel free to look around",id:m()}],commandHistory:[],currentPlaceInHistory:-1},e.inputEl=null,e.handleKeyDown=function(t){switch(t.key){case"ArrowUp":e.goBackInHistory();break;case"ArrowDown":e.goForwardInHistory();break;case"Tab":e.writeToConsole("tab completion not yet available")}},e.goBackInHistory=function(){e.setState(function(t){if(t.currentPlaceInHistory!==t.commandHistory.length+1)return{currentPlaceInHistory:t.currentPlaceInHistory+1}},function(){var t=e.state.commandHistory[e.state.currentPlaceInHistory];t&&(e.inputValue=t.content)})},e.goForwardInHistory=function(){e.setState(function(t){if(-1!==t.currentPlaceInHistory)return{currentPlaceInHistory:t.currentPlaceInHistory-1}},function(){-1===e.state.currentPlaceInHistory&&(e.inputValue="");var t=e.state.commandHistory[e.state.currentPlaceInHistory];t&&(e.inputValue=t.content)})},e.handleSubmit=function(t){t.preventDefault();var n=e.inputValue;e.inputValue="",e.addToCommandHistory(n);var o=n.split(" "),a=Object(u.a)(o),i=a[0],r=a.slice(1),c=E[i];e.writeToConsole("".concat(P).concat(n)),c?c.run(r,e.writeToConsole):e.writeToConsole("I don't know how to ".concat(i))},e.addToCommandHistory=function(t){e.setState(function(n){return{commandHistory:[{content:t,id:m()}].concat(Object(c.a)(n.commandHistory)),currentPlaceInHistory:-1}})},e.writeToConsole=function(t){e.setState(function(n){return{terminalHistory:Object(c.a)(n.terminalHistory).concat([{content:t,id:m()}])}})},e}return Object(h.a)(n,t),Object(l.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"terminal",onClick:function(){t.inputEl&&t.inputEl.focus()},onKeyDown:this.handleKeyDown},a.a.createElement("pre",{className:"terminal-buffer"},this.state.terminalHistory.reduce(function(t,n){return"".concat(t,"\n").concat(n.content)},"")),a.a.createElement("form",{className:"input-form",onSubmit:this.handleSubmit},a.a.createElement("span",{className:"input-prompt"},P),a.a.createElement("input",{className:"input",type:"text",ref:function(n){t.inputEl=n,t.inputEl&&t.inputEl.focus()}})))}},{key:"inputValue",get:function(){return this.inputEl&&this.inputEl.value},set:function(t){this.inputEl&&(this.inputEl.value=t)}}]),n}(a.a.Component);r.a.render(a.a.createElement(function(){return a.a.createElement("div",{className:"main"},a.a.createElement(T,null))},null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.e7c3cd79.chunk.js.map