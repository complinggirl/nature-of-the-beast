{"version":3,"sources":["utils/uuid.js","components/Terminal.tsx","index.tsx","components/App.tsx"],"names":["b","a","Math","random","toString","replace","Terminal","state","terminalHistory","content","id","uuid","commandHistory","currentPlaceInHistory","inputEl","handleKeyDown","e","key","_this","goBackInHistory","goForwardInHistory","writeToConsole","setState","length","command","value","handleSubmit","preventDefault","concat","addToHistory","Object","toConsumableArray","_this2","this","react_default","createElement","className","onClick","focus","onKeyDown","reduce","memo","historyItem","onSubmit","type","ref","React","Component","ReactDOM","render","Terminal_Terminal","document","getElementById"],"mappings":"2MAGe,SAASA,EAAEC,GACzB,OAAOA,GACHA,EAAsB,GAAhBC,KAAKC,UAAmBF,EAAI,GAAKG,SAAS,KAChD,CAAC,MAAQ,KAAO,KAAO,KAAO,MAAMC,QAAQ,SAAUL,GCe3D,IAEqBM,6MACpBC,MAAgB,CACfC,gBAAiB,CAChB,CAAEC,QAAS,wBAAyBC,GAAIC,KACxC,CAAEF,QAAS,2BAA4BC,GAAIC,MAE5CC,eAAgB,GAChBC,sBAAuB,KAGhBC,QAA4B,OAE5BC,cAAgB,SAACC,GACxB,OAAQA,EAAEC,KACT,IAAK,UACJC,EAAKC,kBACL,MACD,IAAK,YACJD,EAAKE,qBACL,MACD,IAAK,MACJF,EAAKG,eAAe,wCAOfF,gBAAkB,WACzBD,EAAKI,SACJ,SAAAf,GACC,GACCA,EAAMM,wBAA0BN,EAAMK,eAAeW,OAKtD,MAAO,CACNV,sBAAuBN,EAAMM,sBAAwB,IAGvD,WACC,IAAMW,EAAUN,EAAKX,MAAMK,eAC1BM,EAAKX,MAAMM,uBAGRW,IACHN,EAAKJ,QAAQW,MAAQD,EAAQf,cAMzBW,mBAAqB,WAC5BF,EAAKI,SACJ,SAAAf,GACC,GAAoC,IAAhCA,EAAMM,sBAMV,MAAO,CACNA,sBAHgBN,EAAMM,sBAAwB,IAMhD,WAKC,IAAMW,EAAUN,EAAKX,MAAMK,eAC1BM,EAAKX,MAAMM,sBAAwB,GAGhCW,IACHN,EAAKJ,QAAQW,MAAQD,EAAQf,cAMzBiB,aAAe,SAACV,GAGvB,GAFAA,EAAEW,iBAEET,EAAKJ,QAAS,CACjB,IAAMW,EAAQP,EAAKJ,QAAQW,MAC3BP,EAAKJ,QAAQW,MAAQ,GAErBP,EAAKG,eAAL,aAAAO,OAAiCH,EAAjC,YACAP,EAAKW,aAAaJ,OAIZI,aAAe,SAACJ,GACvBP,EAAKI,SAAS,SAAAf,GAAK,MAAK,CACvBK,eAAc,CACb,CACCH,QAASgB,EACTf,GAAIC,MAHQiB,OAAAE,OAAAC,EAAA,EAAAD,CAKVvB,EAAMK,iBAEVC,sBAAuB,QAIjBQ,eAAiB,SAACI,GACzBP,EAAKI,SAAS,SAAAf,GAAK,MAAK,CACvBC,gBAAgBsB,OAAAC,EAAA,EAAAD,CACZvB,EAAMC,iBADKoB,OAAA,CAEd,CACCnB,QAASgB,EACTf,GAAIC,mFAMC,IAAAqB,EAAAC,KACR,OACCC,EAAAjC,EAAAkC,cAAA,OACCC,UAAU,WACVC,QAAS,WACRL,EAAKlB,SAAWkB,EAAKlB,QAAQwB,SAE9BC,UAAWN,KAAKlB,eAEhBmB,EAAAjC,EAAAkC,cAAA,OAAKC,UAAU,mBACbH,KAAK1B,MAAMC,gBAAgBgC,OAC3B,SAACC,EAAMC,GAAP,SAAAd,OACIa,EADJ,MAAAb,OACac,EAAYjC,UACzB,KAIFyB,EAAAjC,EAAAkC,cAAA,QAAMC,UAAU,aAAaO,SAAUV,KAAKP,cAC3CQ,EAAAjC,EAAAkC,cAAA,QAAMC,UAAU,gBA3IA,sBA4IhBF,EAAAjC,EAAAkC,cAAA,SACCC,UAAU,QACVQ,KAAK,OACLC,IAAK,SAAA7B,GACJgB,EAAKlB,QAAUE,EACfgB,EAAKlB,SAAWkB,EAAKlB,QAAQwB,oBA/IEQ,IAAMC,WClB5CC,IAASC,OAAOf,EAAAjC,EAAAkC,cCFD,WACd,OACCD,EAAAjC,EAAAkC,cAAA,OAAKC,UAAU,QACdF,EAAAjC,EAAAkC,cAACe,EAAD,QDDa,MAASC,SAASC,eAAe","file":"static/js/main.71c90471.chunk.js","sourcesContent":["// simplest UUID implementation\n// https://gist.github.com/jed/982883\n\nexport default function b(a) {\n\treturn a\n\t\t? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n\t\t: ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, b);\n}\n","import React from 'react';\nimport uuid from '../utils/uuid';\n\ninterface ICommandItem {\n\tcontent: string;\n\tid: string;\n}\n\ninterface IHistoryItem {\n\tcontent: string;\n\tid: string;\n}\n\ninterface IState {\n\tcommandHistory: ICommandItem[];\n\tterminalHistory: IHistoryItem[];\n\tcurrentPlaceInHistory?: number;\n}\n\ninterface IProps {}\n\nconst INPUT_PROMPT = '~/a/cool/forest > ';\n\nexport default class Terminal extends React.Component<IProps, IState> {\n\tstate: IState = {\n\t\tterminalHistory: [\n\t\t\t{ content: 'welcome to the forest', id: uuid() },\n\t\t\t{ content: 'feel free to look around', id: uuid() }\n\t\t],\n\t\tcommandHistory: [],\n\t\tcurrentPlaceInHistory: 0\n\t};\n\n\tprivate inputEl: HTMLInputElement = null;\n\n\tprivate handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\tthis.goBackInHistory();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowDown':\n\t\t\t\tthis.goForwardInHistory();\n\t\t\t\tbreak;\n\t\t\tcase 'Tab':\n\t\t\t\tthis.writeToConsole('tab completion not yet available');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tprivate goBackInHistory = () => {\n\t\tthis.setState(\n\t\t\tstate => {\n\t\t\t\tif (\n\t\t\t\t\tstate.currentPlaceInHistory === state.commandHistory.length\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tcurrentPlaceInHistory: state.currentPlaceInHistory + 1\n\t\t\t\t};\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tconst command = this.state.commandHistory[\n\t\t\t\t\tthis.state.currentPlaceInHistory\n\t\t\t\t];\n\n\t\t\t\tif (command) {\n\t\t\t\t\tthis.inputEl.value = command.content;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate goForwardInHistory = () => {\n\t\tthis.setState(\n\t\t\tstate => {\n\t\t\t\tif (state.currentPlaceInHistory === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newPlace = state.currentPlaceInHistory - 1;\n\n\t\t\t\treturn {\n\t\t\t\t\tcurrentPlaceInHistory: newPlace\n\t\t\t\t};\n\t\t\t},\n\t\t\t() => {\n\t\t\t\t// if (this.state.currentPlaceInHistory === 0) {\n\t\t\t\t// \tthis.inputEl.value = '';\n\t\t\t\t// }\n\n\t\t\t\tconst command = this.state.commandHistory[\n\t\t\t\t\tthis.state.currentPlaceInHistory + 1\n\t\t\t\t];\n\n\t\t\t\tif (command) {\n\t\t\t\t\tthis.inputEl.value = command.content;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\n\t\tif (this.inputEl) {\n\t\t\tconst value = this.inputEl.value;\n\t\t\tthis.inputEl.value = '';\n\n\t\t\tthis.writeToConsole(`you wrote ${value}. cool.`);\n\t\t\tthis.addToHistory(value);\n\t\t}\n\t};\n\n\tprivate addToHistory = (value: string) => {\n\t\tthis.setState(state => ({\n\t\t\tcommandHistory: [\n\t\t\t\t{\n\t\t\t\t\tcontent: value,\n\t\t\t\t\tid: uuid()\n\t\t\t\t},\n\t\t\t\t...state.commandHistory\n\t\t\t],\n\t\t\tcurrentPlaceInHistory: 0\n\t\t}));\n\t};\n\n\tprivate writeToConsole = (value: string) => {\n\t\tthis.setState(state => ({\n\t\t\tterminalHistory: [\n\t\t\t\t...state.terminalHistory,\n\t\t\t\t{\n\t\t\t\t\tcontent: value,\n\t\t\t\t\tid: uuid()\n\t\t\t\t}\n\t\t\t]\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"terminal\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.inputEl && this.inputEl.focus();\n\t\t\t\t}}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t<pre className=\"terminal-buffer\">\n\t\t\t\t\t{this.state.terminalHistory.reduce(\n\t\t\t\t\t\t(memo, historyItem) =>\n\t\t\t\t\t\t\t`${memo}\\n${historyItem.content}`,\n\t\t\t\t\t\t''\n\t\t\t\t\t)}\n\t\t\t\t</pre>\n\n\t\t\t\t<form className=\"input-form\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<span className=\"input-prompt\">{INPUT_PROMPT}</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tref={e => {\n\t\t\t\t\t\t\tthis.inputEl = e;\n\t\t\t\t\t\t\tthis.inputEl && this.inputEl.focus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\nimport Terminal from './Terminal';\n\nexport default function App() {\n\treturn (\n\t\t<div className=\"main\">\n\t\t\t<Terminal />\n\t\t</div>\n\t);\n}\n"],"sourceRoot":""}